{"version":3,"sources":["cell.tsx","app.tsx","index.tsx"],"names":["CellShadow","angle","isSelected","shadowLength","shadowBlur","shadowSize","opacity","className","style","width","height","boxShadow","transform","Cell","rowIndex","value","columnIndex","selected","onClick","rowDistance","colDistance","absDistance","Math","max","abs","pow","handleClick","useCallback","background","initialGrid","horizontalStep","length","verticalStep","initialPoint","calculateBgColor","green","blue","App","useState","setSelected","grid","setGrid","updateGrid","target","map","row","_","rowDelta","columnDelta","absAngle","atan","PI","getShadowAngle","useEffect","gridComponent","key","handleKeyDown","e","tabIndex","onKeyDown","backgroundColor","href","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fc4c9a97.chunk.js","sourcesContent":["import React, { useCallback } from 'react';\nimport './cell.css';\n\nconst SELECTED_COLOR = '#fff';\nconst BASE_COLOR = '#ffffff20';\nconst CELL_SIZE = '70px';\nconst CIRCLE_SIZE = '16px';\n\ninterface CellShadowProps {\n  angle: number;\n  isSelected: boolean;\n  shadowLength: number;\n  shadowBlur: number;\n  shadowSize: number;\n  opacity: number;\n}\n\nconst CellShadow = ({angle, isSelected, shadowLength, shadowBlur, shadowSize, opacity}: CellShadowProps) => {    \n  return (\n    <div\n      className=\"cell-shadow\"\n      style={{\n        width: CIRCLE_SIZE,\n        height: CIRCLE_SIZE,\n        boxShadow: isSelected \n          ? '0 0 100px 40px rgba(255,255,255,0.3)' \n          : `0 -${shadowLength}px ${shadowBlur}px ${shadowSize}px rgba(0,0,0,${opacity})`,\n        transform: `rotate(${angle}deg)`,\n      }}\n    />\n  );\n};\n\ninterface CellProps {\n  rowIndex: number;\n  value: number;\n  columnIndex: number; \n  selected: [number, number]; \n  onClick: (target: [number, number]) => void;\n}\n\nexport const Cell = ({rowIndex, value, columnIndex, selected, onClick}: CellProps) => {  \n  const rowDistance = rowIndex - selected[0];\n  const colDistance = columnIndex - selected[1];\n  const absDistance = Math.max(Math.abs(rowDistance), Math.abs(colDistance));\n  const shadowLength = 5 + 5 * absDistance;\n  const shadowBlur = 5 + Math.pow(absDistance, 2);\n  const shadowSize = 1 + absDistance;\n  const opacity = 1 / (1 + absDistance * 2);\n  const isSelected = selected[0] === rowIndex && selected[1] === columnIndex;\n\n  const handleClick = useCallback(() => {\n    onClick([rowIndex, columnIndex]);\n  }, [onClick, rowIndex, columnIndex]);\n\n  return (\n    <div \n      className=\"cell-container\"\n      onClick={handleClick}\n      style={{\n        width: CELL_SIZE,\n        height: CELL_SIZE,\n      }}\n    >\n      <div\n        className=\"cell\"\n        style={{\n          width: CIRCLE_SIZE,\n          height: CIRCLE_SIZE,\n          background: isSelected ? SELECTED_COLOR : BASE_COLOR,\n        }}\n      >\n        <CellShadow \n          isSelected={isSelected} \n          angle={value} \n          shadowBlur={shadowBlur}\n          shadowSize={shadowSize}\n          shadowLength={shadowLength} \n          opacity={opacity} \n        />\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Cell } from './cell';\nimport './app.css';\n\ntype Point = [number, number];\n\nconst initialGrid = [\n  [0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0],\n];\n\nconst width = initialGrid[0].length;\nconst height = initialGrid.length;\nconst range = 240 - 180;\nconst horizontalStep = range / width;\nconst verticalStep = range / height;\n\nconst initialPoint: Point = [0,0];\n\nconst getShadowAngle = (rowDelta: number, columnDelta: number): number => {\n  let absAngle = Math.atan(columnDelta/rowDelta) * 180 / Math.PI;\n  return rowDelta < 0 ? -absAngle : 180 - absAngle;\n};\n\nfunction calculateBgColor(selected: [number, number]) {\n  const green = horizontalStep * (selected[0] + 1);\n  const blue = verticalStep * (selected[1] + 1);\n  return `hsl(${180 + green}deg,${20 + blue}%, 25%)`;\n}\n\nconst App = () => {\n  const [selected, setSelected] = useState<Point>(initialPoint);\n  const [grid, setGrid] = useState(initialGrid);\n\n  const updateGrid = useCallback((target: Point) => {\n    setGrid(grid => grid.map(\n      (row, rowIndex) => row.map(\n        (_, columnIndex) => {\n          const isSelected = target[0] === rowIndex && target[1] === columnIndex;\n          const rowDistance = rowIndex - target[0];\n          const colDistance = columnIndex - target[1];\n          const angle = isSelected ? 0 : getShadowAngle(rowDistance, colDistance);\n          return angle < 0 ? 360 + angle : angle;\n        }\n      )\n    ));\n    setSelected(target);\n  }, []);\n\n  useEffect(() => {\n    updateGrid(initialPoint);\n  }, [updateGrid]);\n\n  const handleClick = useCallback((target: Point) => {\n    updateGrid(target);\n  }, [updateGrid]);\n\n  const gridComponent = grid.map((_, rowIndex) => {\n    return (\n      <div key={rowIndex} className=\"grid-row\">\n        {grid[rowIndex].map((value, columnIndex) => {\n          return (\n            <Cell\n              key={columnIndex} \n              value={value}\n              rowIndex={rowIndex} \n              columnIndex={columnIndex} \n              selected={selected}\n              onClick={handleClick}\n            />\n          );\n        })}\n      </div>\n    );\n  });\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    switch (e.key) {\n      case 'ArrowUp': {\n        if (selected[0] === 0) return;\n        updateGrid([selected[0] - 1, selected[1]]);\n        break;\n      }\n      case 'ArrowDown': {\n        if (selected[0] === grid.length - 1) return;\n        updateGrid([selected[0] + 1, selected[1]]);\n        break;\n      }\n      case 'ArrowLeft': {\n        if (selected[1] === 0) return;\n        updateGrid([selected[0], selected[1] - 1]);\n        break;\n      }\n      case 'ArrowRight': {\n        if (selected[1] === grid[0].length - 1) return;\n        updateGrid([selected[0], selected[1] + 1]);\n        break;\n      } \n    }\n  }, [updateGrid, selected, grid]);\n\n  return (\n    <div \n      className=\"container\" \n      tabIndex={0} \n      onKeyDown={handleKeyDown}\n      style={{ backgroundColor: calculateBgColor(selected) }}\n    >\n      <h1 className=\"title\">Shadow grid concept</h1>\n      <div className=\"content\">\n        <div className=\"left-column\">\n          <div className=\"description\">\n            <p>The idea is that selected element acts like a point of light. Other elements drop shadow as if they are physical objects.</p>\n            <p>Click on dots or use arrow keys -></p>\n            <a href=\"https://github.com/dmitryrodnikov/shadow-grid-ui\">GitHub</a>\n          </div>\n        </div>\n        <div className=\"grid-wrapper\">\n          {gridComponent}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}